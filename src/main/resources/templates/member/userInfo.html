<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="/fragments/frontCode" />

<body class="member">

	<!--页头，菜单-->
	<div th:replace="/fragments/head::header"></div>

	<!--内容-->
	<div class="main">
		<div class="container">
			<!--侧栏-->
			<div th:replace="/fragments/sidebar::sidebar"></div>

			<!--内容-->
			<div class="content">
				<!--认证提示，根据用户的userGrade权级来判断显示-->
				<div th:if="${company.approvalStatus} == 0">
					<div th:switch="${company.approvalStatus}"
						class="ui-infoTip collapse in" id="ui-tip-approve">
						<em class="ui-infoTip-icon fa fa-volume-up "></em>
						<div class="ui-infoTip-close">
							<em class="fa fa-close" data-toggle="collapse"
								data-target="#ui-tip-approve"></em>
						</div>
						<div th:case="'0'" class="ui-infoTip-box">
							您还没有认证成为企业会员<a class="ui-infoTip-link">已提交审核</a>
						</div>
						<div th:case="'1'" class="ui-infoTip-box">
							您还没有认证成为企业会员<a class="ui-infoTip-link" href="/member/approve">立即认证</a>
						</div>
					</div>
				</div>
				<!--申请成为企业会员提示，根据用户企业id来判断显示  -->
				<div th:if="${userVo.userStatus} == 2">
					<div th:switch="${userVo.userStatus}"
						class="ui-infoTip collapse in" id="ui-tip-subAccount">
						<em class="ui-infoTip-icon  fa fa-volume-up "></em>
						<div class="ui-infoTip-close">
							<em class="fa fa-close" data-toggle="collapse"
								data-target="#ui-tip-subAccount"></em>
						</div>
						<div th:case="'0'" class="ui-infoTip-box">
							您还可以申请成为企业会员子账号<a href="javascript:void(0)"
								class="ui-infoTip-link" data-toggle="modal"
								data-target="#subMember-modal">申请</a>
						</div>
						<div th:case="'1'" class="ui-infoTip-box">
							您还可以申请成为企业会员子账号<a href="javascript:void(0)"
								class="ui-infoTip-link" data-toggle="modal"
								data-target="#subMember-modal">申请</a>
						</div>
						<div th:case="'2'" class="ui-infoTip-box">
							您还可以申请成为企业会员子账号<a class="ui-infoTip-link">已提交审核</a>
						</div>
					</div>
				</div>
				<div class="userContent">

					<!--分类-->
					<div class="type-title">
						<div class="t-title" id="router-linkNode">
							<a href="#/userInfo" linkNode="userInfo" class="selected">基本信息</a>
						</div>
					</div>

					<!--分类页面-->
					<div class="padding-left-10 padding-right-10 padding-bottom-10">
						<!--基本信息-->

						<form id="form-userInfo" onsubmit="return checkForm()"
							action="/member/updMemberName" method="post">

							<!--************************登录用户基本信息****************************-->
							<div class="form-horizontal" id="change">
								<div class="form-group">
									<label class="col-sm-2 control-label">头像</label>
									<div class="col-sm-3">
										<div class="thumbnail">
											<img src="/images/member-portrait.png" alt="" />
											<div class="caption text-center">
												<a href="/member/headSet" class="btn btn-default"
													role="button">编辑</a>
											</div>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label">用户名</label>
									<div class="col-sm-8">
										<input type="hidden" th:name="${_csrf.parameterName}"
											th:value="${_csrf.token}" /> <input type="hidden"
											id="userId" name="userId" th:value="${userVo.userId}" /> <input
											type="text" id="username" name="memberName"
											class="form-control" th:value="${userVo.memberName}" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label">性别</label>
									<div class="col-sm-8">
										<div id="component-gender" inputName="gender" ></div>
										<!--<label><input type="radio" id="gender" name="gender" />男</label>
										<label><input type="radio" id="gender" name="gender" />女</label>-->
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label">手机号</label>
									<div class="col-sm-8">
										<input type="text" id="" class="form-control"
											th:value="${userVo.mobile}" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label">电子邮箱</label>
									<div class="col-sm-8" th:attrappend="class=${' ' + cssStyle}">
										<input type="text" class="form-control"
											th:value="${userVo.email}" />
									</div>
								</div>
								<!-- 企业信息 -->
								<div class="form-horizontal" id="company"
									th:unless="${userVo.companyId} == null">
									<div class="form-group">
										<label class="col-sm-2 control-label">企业Logo</label>
										<div class="col-sm-3">
											<div class="thumbnail">
												<img src="/images/member-portrait.png" alt="" />
												<div class="caption text-center">
													<a href="/member/headSet" class="btn btn-default"
														role="button">编辑</a>
												</div>
											</div>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label">企业帐号</label>
										<div class="col-sm-8">
											<input type="text" class="form-control"
												th:value="${userVo.account}" />
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label">企业名称</label>
										<div class="col-sm-8">
											<input type="hidden" id="companyId"
												th:value="${company.companyId}" /> <input type="text"
												class="form-control" th:value="${company.companyName}" />
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label">外贸资质</label>
										<div class="col-sm-8" th:switch="${company.isForeignTrade}">
											<div th:case="'0'">
												<input value="不具有" /> <a href="/member/headSet">认证外贸资质</a>
											</div>
											<div th:case="'1'">
												<input value="具备" />
											</div>
											<div th:case="*">
												<input value="审核中" />
											</div>
										</div>
									</div>
								</div>
								<div class="form-group text-center form-group-btns">
									<button class="btn btn-primary" type="submit">提交</button>
								</div>
							</div>
						</form>
					</div>

				</div>
			</div>
		</div>
	</div>

	<!--申请成为企业会员子账号-->
	<div class="modal fade" id="subMember-modal" tabindex="-1"
		role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="exampleModalLabel">申请成为企业会员子账号</h4>
				</div>
				<div class="modal-body">
					<div class="form-horizontal">
						<div class="form-group">
							<label class="col-sm-2 control-label">企业全称</label>
							<div class="col-sm-8">
								<input type="text" id="tradeName" class="form-control" />
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">姓名</label>
							<div class="col-sm-8">
								<input type="text" id="applyName" class="form-control" />
							</div>
						</div>
						<div class="form-group">
							<div class="col-sm-8 col-sm-offset-2">该企业会员同意您的申请后，此账号将变为该企业会员的子账号。该申请有效时间为24h，超时后需重新申请。</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
					<button type="button" class="btn btn-primary" onclick="apply()">申请</button>
				</div>
			</div>
		</div>
	</div>

	<!--页脚，链接-->
	<div th:replace="/fragments/foot::footer"></div>

	<!--控制-->
	<script th:src="@{/js/module/member/member.userInfo.js}"></script>


</body>
</html>


